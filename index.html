<!DOCTYPE html>
<html>
<head>
<title>Behaviour-based Android Malware Detection</title>
<!-- 2015-10-26 Mon 14:01 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="Zhitao Gong">
<meta  name="description" content="Behaviour-based classifiers to detect android malware."
>
<meta  name="keywords" content="malware detection, classification, android">
<link rel="stylesheet" type="text/css" href="http://gongzhitaao.org/orgcss/org.css"/>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Behaviour-based Android Malware Detection</h1>
<div class="abstract">
<p>
We investigate malware detection on Android platform based on
application behaviours, e.g., ram usage.  Besides SVM based
classifiers and logistic regression, we also investigate neural
network based solutions, e.g., feed-forward (cascaded) network,
auto-encoder, etc.
</p>

</div>

<nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Introduction</a></li>
<li><a href="#sec-2">2. Data Preprocessing</a>
<ul>
<li><a href="#sec-2-1">2.1. Feature Cleanup</a></li>
<li><a href="#sec-2-2">2.2. Data Normalization</a></li>
<li><a href="#sec-2-3">2.3. Randomized Test</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Experiment</a>
<ul>
<li><a href="#sec-3-1">3.1. SVM</a></li>
</ul>
</li>
</ul>
</div>
</nav>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
We have 100 application samples, half of them are tagged malicious,
the other half benign.  For each application object we have 1000
data samples, collected at an interval of 1 millisecond for a
duration of 1 second.  Totally we have 32 features, which are the
<i>behaviours</i> of the application, e.g., ram usage, cache usage, etc.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Data Preprocessing</h2>
<div class="outline-text-2" id="text-2">
<p>
To prepare for algorithm development, we first run the data through
some cleanup routines.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Feature Cleanup</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Out of 32 features, 11 of them have nearly zero variance<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>, i.e.,
less then \(1e^{-6}\).  These features are removed since they
do not provide support for our classification.
</p>

<p>
Figure <a href="#fig:tsne_full_feature">1</a> shows the distribution of all our data
samples without feature selection.
</p>


<figure id="fig:tsne_full_feature">
<p><img src="./img/tsne_all_features.svg" alt="tsne_all_features.svg">
</p>
<figcaption><span class="figure-number">Figure 1:</span> TSEN with all features</figcaption>
</figure>

<p>
Different parameters of t-SNE produce slightly different
distribution results.  However, of all the results from different
parameter combinations, I did not find any clear clusters.  Most of
the time these two categories are mingled together.  Possibile
reasons for this
</p>

<ol class="org-ol">
<li><a id="lst:p1" name="lst:p1"></a>Sample size is too limited.
</li>
<li>Feature set is too large, relative to the sample size.
</li>
<li><a id="lst:p2" name="lst:p2"></a>Features do not provide enough support for classification.
</li>
</ol>


<p>
Problem <a href="#lst:p1">1</a> and problem <a href="#lst:p2">3</a> are out of my control.  we may
try reducing the feature set to see if any clear patterns can be
spotted.
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Data Normalization</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Features are all numerical data, in different ranges.  So we
normalize them into the similar magnitude.
</p>

<p>
Each data object is measured for 1 second at an interval of 1
millisecond.  So each data object actually contains "time series"
data.  However, quick analysis of the "time series" data shows that
all the features have almost zero variance for each data sample.
An intuitive explanation for this is that the sample rate is too
high.  Instead of a "time series" for each data object, we have
only one sample per data object.  In the following writing, we use
data sample to denote the data for each tagged software.
</p>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Randomized Test</h3>
<div class="outline-text-3" id="text-2-3">
<p>
After the previous two steps, we have the usual classification
problem, for which there are totally 100 data samples, half of them
are tagged 0 (benign software) and the other half tagged 1
(maliciout software).  We use 50% as training set.  For each test,
we randomly draw 25 samples from each group and test them on our
classifiers.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Experiment</h2>
<div class="outline-text-2" id="text-3">
<p>
We summarize the performance for each classifier.
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> SVM</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Table <a href="#tab:svm_all_feature_result">1</a> summarizes the test result for
classifier based on Support Vector Machine (SVM).  This is the
averaged result after 100 test runs.
</p>

<table id="tab:svm_all_feature_result">
<caption class="t-above"><span class="table-number">Table 1:</span> SVC with full feature set result</caption>

<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="right">Benware</th>
<th scope="col" class="right">Malware</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Pred Benware</td>
<td class="right">0.4060</td>
<td class="right">0.1000</td>
</tr>

<tr>
<td class="left">Pred Malware</td>
<td class="right">0.0940</td>
<td class="right">0.4000</td>
</tr>
</tbody>
</table>

<p>
The interpretation for Table <a href="#tab:svm_all_feature_result">1</a> is as
follows.
</p>

<ol class="org-ol">
<li>Notice that half of the test set are tagged malware, the other
half benign.
</li>
<li>For both categories, the accuracy is around 80%, i.e., 20% is
wrongly classified.
</li>
</ol>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
Actually they all have zero variance.
</p></div>


</div>
</div></div>
<div id="postamble" class="status">
<a class="author"
         href="http://gongzhitaao.org">Zhitao Gong</a> / <span
         class="date">2015-10-26 Mon 14:01</span><span class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</span>
</div>
</body>
</html>
